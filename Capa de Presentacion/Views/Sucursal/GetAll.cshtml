@model Capa_de_Modelo.Sucursal
@{
    ViewBag.Title = "GetAll";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">
    <div class="row">
        <div class="col-md-12">
            <h2>Sucursales Existentes</h2>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <h5>Seleccione una sucursal para editarla o + para agregar...</h5>
            <hr />
        </div>
    </div>

    <div class="row">
        <div class="d-flex justify-content-end" style="float:right;">
            @Html.ActionLink("+", "Form", "Sucursal", htmlAttributes: new { @class = "btn btn-success" })
        </div>
    </div>

    @if (Model.Sucursales != null)
    {
        <div class="row table-responsive">
            <table style="text-align:center; vertical-align:middle;" class="table table-bordered table-hover table-striped">
                <thead class="table-info fw-bold">
                    <tr>
                        <td>Editar</td>
                        <td style="display:none;">IdSucursal</td>
                        <td>Nombre</td>
                        <td>Ubicacion</td>
                        <td>Eliminar</td>
                    </tr>
                </thead>
                <tbody class="table-light">
                    @foreach (Capa_de_Modelo.Sucursal sucursal in Model.Sucursales)
                    {
                        <tr>
                            <td><a class="btn btn-warning" href="@Url.Action("Form", "Sucursal", new { IdSucursal = sucursal.IdSucursal })"><i class="bi bi-pencil"></i></a></td>
                            <td style="display:none;">@sucursal.IdSucursal</td>
                            <td>@sucursal.Nombre </td>
                            <td>@sucursal.Ubicacion</td>

                            <td><a class="btn btn-danger" href="@Url.Action("Delete", "Sucursal", new { IdSucursal= sucursal.IdSucursal})" onclick="return confirm('Desea eliminar la sucursal?');"><i class="bi bi-trash"></i></a></td>
                        </tr>
                    }

                </tbody>
            </table>
        </div>
    }
    else
    {
        <div class="row">
            <div class="col-md-12">
                <div class="alert alert-danger">
                    No se encontraron sucursales registradas.
                </div>
            </div>
        </div>
    }

</div>
<script language="text/Javascript">

    cleared[0] = cleared[1] = cleared[2] = 0; //set a cleared flag for each field
    function clearField(t) {                   //declaring the array outside of the
        if (!cleared[t.id]) {                      // function makes it static and global
            cleared[t.id] = 1;  // you could use true and false, but that's more typing
            t.value = '';         // with more chance of typos
            t.style.color = '#fff';
        }
    }
</script>



